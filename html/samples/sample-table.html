<div ng-controller="SampleTableCtrl">

  <h1><a ui-sref="home"><i class="fa fa-arrow-left"></i></a> Sample Table <i class="fa fa-cog fa-spin" ng-if="$root.isLoading"></i> </h1> 
  
  <!-- Populate the lists.accounts created in the controller -->

  <tm1-ui-element-list 
    tm1-instance="dev" 
    tm1-dimension="Account" 
    tm1-subset="Net income" 
    tm1-calculate-top-level="true" 
    ng-model="lists.accounts">
  </tm1-ui-element-list> 
  
  <!-- Panel which contains the filters and the table -->

  <div class="panel panel-default">
  
    <div class="panel-heading">   
      <span>Click on the headers to sort</span>
    </div>
    
    <div class="panel-body table-responsive" ng-hide="$root.isLoading" >
    
      <div class="row">

          <!-- Create the filters -->

          <div class="col-md-3">
              <input type="text" class="form-control" placeholder="Filter..." ng-change="table.filter('Description', options.filter)" ng-model="options.filter"></input>
          </div>

          <div class="col-md-1">
            <span class="dropdown">
                <button class="btn btn-default dropdown-toggle" type="button" id="columnDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                  <i class="fa fa-columns"></i> <span class="caret"></span>
                </button>
                <ul class="dropdown-menu" aria-labelledby="columnDropdown">
                  <li>
                    <label>
                      Hide Columns
                    </label>
                  </li>
                  <li>
                    <label>
                      <input type="checkbox" ng-model="options.hideJan" /> Jan
                    </label>
                  </li>
                  <li>
                    <label>
                      <input type="checkbox" ng-model="options.hideFeb" /> Feb
                    </label>
                  </li>
                  <li>
                    <label>
                      <input type="checkbox" ng-model="options.hideMar" /> Mar
                    </label>
                  </li>
                  <li>
                    <label>
                      <input type="checkbox" ng-model="options.hideApr" /> Apr
                    </label>
                  </li>
                  <li>
                    <label>
                      <input type="checkbox" ng-model="options.hideMay" /> May
                    </label>
                  </li>
                  <li>
                    <label>
                      <input type="checkbox" ng-model="options.hideJun" /> Jun
                    </label>
                  </li>
                  <li>
                    <label>
                      <input type="checkbox" ng-model="options.hideJul" /> Jul
                    </label>
                  </li>
                  <li>
                    <label>
                      <input type="checkbox" ng-model="options.hideAug" /> Aug
                    </label>
                  </li>
                  <li>
                    <label>
                      <input type="checkbox" ng-model="options.hideSep" /> Sep
                    </label>
                  </li>
                  <li>
                    <label>
                      <input type="checkbox" ng-model="options.hideOct" /> Oct
                    </label>
                  </li>
                  <li>
                    <label>
                      <input type="checkbox" ng-model="options.hideNov" /> Nov
                    </label>
                  </li>
                  <li>
                    <label>
                      <input type="checkbox" ng-model="options.hideDec" /> Dec
                    </label>
                  </li>
                </ul>
              </span>  
              <button class="btn btn-default" ng-if="table.isSorted()" ng-click="table.sortClear()" title="Clear Sort"><i class="fa fa-unsorted"></i></button>
          </div>

      </div>
      
      <div class="row">
    
        <div class="col-md-12">

          <!-- Create the table -->    
          <table class="table table-condensed table-bordered table-striped" >

          <!-- Table headers -->
            <thead>
              <tr>
                <th class="tm1-ui-sortable" ng-class="table.sortClass('key')" ng-click="table.sort('key')">Account</th>
                <th class="tm1-ui-sortable" ng-class="table.sortClass('Description')" ng-click="table.sort('Description')">Description</th>
                <th class="tm1-ui-sortable" ng-class="table.sortClass('Year')" ng-click="table.sort('Year')">
                  Year
                </th>
                <th ng-show="!options.hideJan" class="tm1-ui-sortable" ng-class="table.sortClass('Jan')" ng-click="table.sort('Jan')">
                  Jan
                </th>
                <th ng-show="!options.hideFeb" class="tm1-ui-sortable" ng-class="table.sortClass('Feb')" ng-click="table.sort('Feb')">
                  Feb
                </th>
                <th ng-show="!options.hideMar" class="tm1-ui-sortable" ng-class="table.sortClass('Mar')" ng-click="table.sort('Mar')">
                  Mar
                </th>
                <th ng-show="!options.hideApr" class="tm1-ui-sortable" ng-class="table.sortClass('Apr')" ng-click="table.sort('Apr')">
                  Apr
                </th>
                <th ng-show="!options.hideMay" class="tm1-ui-sortable" ng-class="table.sortClass('May')" ng-click="table.sort('May')">
                  May
                </th>
                <th ng-show="!options.hideJun" class="tm1-ui-sortable" ng-class="table.sortClass('Jun')" ng-click="table.sort('Jun')">
                  Jun
                </th>
                <th ng-show="!options.hideJul" class="tm1-ui-sortable" ng-class="table.sortClass('Jul')" ng-click="table.sort('Jul')">
                  Jul
                </th>
                <th ng-show="!options.hideAug" class="tm1-ui-sortable" ng-class="table.sortClass('Aug')" ng-click="table.sort('Aug')">
                  Aug
                </th>
                <th ng-show="!options.hideSep" class="tm1-ui-sortable" ng-class="table.sortClass('Sep')" ng-click="table.sort('Sep')">
                  Sep
                </th>
                <th ng-show="!options.hideOct" class="tm1-ui-sortable" ng-class="table.sortClass('Oct')" ng-click="table.sort('Oct')">
                  Oct
                </th>
                <th ng-show="!options.hideNov" class="tm1-ui-sortable" ng-class="table.sortClass('Nov')" ng-click="table.sort('Nov')">
                  Nov
                </th>
                <th ng-show="!options.hideDec" class="tm1-ui-sortable" ng-class="table.sortClass('Dec')" ng-click="table.sort('Dec')">
                  Dec
                </th>
              </tr>
            </thead>

            <!-- Table body -->
            <tbody>

              <!-- Rows are driven by the table created in the controller js/sample-table.js -->
              <tr ng-repeat="row in table.data()" ng-show="table.show(row, $index)" ng-class="row.topLevelClass">
                <td>{{row.key}}</td>
                <td><tm1-ui-element-list-item tm1-item="row" tm1-item-display="{{row.Description}}"></tm1-ui-element-list-item></td>
                <td>
                  <tm1-ui-dbr
                    tm1-instance="dev"
                    tm1-cube="General Ledger"
                    tm1-elements='Actual,2011/12,Year,Local,England,Corporate,{{row.key}},Amount'
                    tm1-comment-elements="Actual,2012,Year,Local,England,Corporate,{{row.key}},Comment"
                    tm1-data-decimal="0"
                    ng-model="row.Year"
                  ></tm1-ui-dbr>
                </td>
                <td ng-show="!options.hideJan">
                  <tm1-ui-dbr
                    tm1-instance="dev"
                    tm1-cube="General Ledger"
                    tm1-elements='Actual,2011/12,Jan,Local,England,Corporate,{{row.key}},Amount'
                    tm1-comment-elements="Actual,2012,Jan,Local,England,Corporate,{{row.key}},Comment"
                    tm1-data-decimal="0"
                    ng-model="row.Jan"
                  ></tm1-ui-dbr>
                </td>
                <td ng-show="!options.hideFeb">
                  <tm1-ui-dbr
                    tm1-instance="dev"
                    tm1-cube="General Ledger"
                    tm1-elements='Actual,2011/12,Feb,Local,England,Corporate,{{row.key}},Amount'
                    tm1-comment-elements="Actual,2012,Feb,Local,England,Corporate,{{row.key}},Comment"
                    tm1-data-decimal="0"
                    ng-model="row.Feb"
                  ></tm1-ui-dbr>
                </td>
                <td ng-show="!options.hideMar">
                  <tm1-ui-dbr
                    tm1-instance="dev"
                    tm1-cube="General Ledger"
                    tm1-elements='Actual,2011/12,Mar,Local,England,Corporate,{{row.key}},Amount'
                    tm1-comment-elements="Actual,2012,Mar,Local,England,Corporate,{{row.key}},Comment"
                    tm1-data-decimal="0"
                    ng-model="row.Mar"
                  ></tm1-ui-dbr>
                </td>
                <td ng-show="!options.hideApr">
                  <tm1-ui-dbr
                    tm1-instance="dev"
                    tm1-cube="General Ledger"
                    tm1-elements='Actual,2011/12,Apr,Local,England,Corporate,{{row.key}},Amount'
                    tm1-comment-elements="Actual,2012,Apr,Local,England,Corporate,{{row.key}},Comment"
                    tm1-data-decimal="0"
                    ng-model="row.Apr"
                  ></tm1-ui-dbr>
                </td>
                <td ng-show="!options.hideMay">
                  <tm1-ui-dbr
                    tm1-instance="dev"
                    tm1-cube="General Ledger"
                    tm1-elements='Actual,2011/12,May,Local,England,Corporate,{{row.key}},Amount'
                    tm1-comment-elements="Actual,2012,May,Local,England,Corporate,{{row.key}},Comment"
                    tm1-data-decimal="0"
                    ng-model="row.May"
                  ></tm1-ui-dbr>
                </td>
                <td ng-show="!options.hideJun">
                  <tm1-ui-dbr
                    tm1-instance="dev"
                    tm1-cube="General Ledger"
                    tm1-elements='Actual,2011/12,Jun,Local,England,Corporate,{{row.key}},Amount'
                    tm1-comment-elements="Actual,2012,Jun,Local,England,Corporate,{{row.key}},Comment"
                    tm1-data-decimal="0"
                    ng-model="row.Jun"
                  ></tm1-ui-dbr>
                </td>
                <td ng-show="!options.hideJul">
                  <tm1-ui-dbr
                    tm1-instance="dev"
                    tm1-cube="General Ledger"
                    tm1-elements='Actual,2011/12,Jul,Local,England,Corporate,{{row.key}},Amount'
                    tm1-comment-elements="Actual,2012,Jul,Local,England,Corporate,{{row.key}},Comment"
                    tm1-data-decimal="0"
                    ng-model="row.Jul"
                  ></tm1-ui-dbr>
                </td>
                <td ng-show="!options.hideAug">
                  <tm1-ui-dbr
                    tm1-instance="dev"
                    tm1-cube="General Ledger"
                    tm1-elements='Actual,2011/12,Aug,Local,England,Corporate,{{row.key}},Amount'
                    tm1-comment-elements="Actual,2012,Aug,Local,England,Corporate,{{row.key}},Comment"
                    tm1-data-decimal="0"
                    ng-model="row.Aug"
                  ></tm1-ui-dbr>
                </td>
                <td ng-show="!options.hideSep">
                  <tm1-ui-dbr
                    tm1-instance="dev"
                    tm1-cube="General Ledger"
                    tm1-elements='Actual,2011/12,Sep,Local,England,Corporate,{{row.key}},Amount'
                    tm1-comment-elements="Actual,2012,Sep,Local,England,Corporate,{{row.key}},Comment"
                    tm1-data-decimal="0"
                    ng-model="row.Sep"
                  ></tm1-ui-dbr>
                </td>
                <td ng-show="!options.hideOct">
                  <tm1-ui-dbr
                    tm1-instance="dev"
                    tm1-cube="General Ledger"
                    tm1-elements='Actual,2011/12,Oct,Local,England,Corporate,{{row.key}},Amount'
                    tm1-comment-elements="Actual,2012,Oct,Local,England,Corporate,{{row.key}},Comment"
                    tm1-data-decimal="0"
                    ng-model="row.Oct"
                  ></tm1-ui-dbr>
                </td>
                <td ng-show="!options.hideNov">
                  <tm1-ui-dbr
                    tm1-instance="dev"
                    tm1-cube="General Ledger"
                    tm1-elements='Actual,2011/12,Nov,Local,England,Corporate,{{row.key}},Amount'
                    tm1-comment-elements="Actual,2012,Nov,Local,England,Corporate,{{row.key}},Comment"
                    tm1-data-decimal="0"
                    ng-model="row.Nov"
                  ></tm1-ui-dbr>
                </td>
                <td ng-show="!options.hideDec">
                  <tm1-ui-dbr
                    tm1-instance="dev"
                    tm1-cube="General Ledger"
                    tm1-elements='Actual,2011/12,Dec,Local,England,Corporate,{{row.key}},Amount'
                    tm1-comment-elements="Actual,2012,Dec,Local,England,Corporate,{{row.key}},Comment"
                    tm1-data-decimal="0"
                    ng-model="row.Dec"
                  ></tm1-ui-dbr>
                </td>
                
              </tr>
            </tbody>
          
          </table>
        </div>

        <!-- Buttons to manage pagination -->
        <div class="col-md-12">
          <div class="btn-group" role="group" >
            <button type="button" class="btn btn-default" ng-click="table.previous()"><i class="fa fa-angle-left"></i></button>
            <span class="btn btn-default" style="width: 70px;">{{table.page()}} of {{table.pages()}}</span>
            <button type="button" class="btn btn-default" ng-click="table.next()"><i class="fa fa-angle-right"></i></button>
          </div>
          <div class="btn-group pull-right" role="group" >
            <button type="button" class="btn btn-default" ng-class="{'active': table.isPageSize(10)}" ng-click="table.pageSize(10)">10</button>
            <button type="button" class="btn btn-default" ng-class="{'active': table.isPageSize(15)}" ng-click="table.pageSize(15)">15</button>
            <button type="button" class="btn btn-default" ng-class="{'active': table.isPageSize(20)}" ng-click="table.pageSize(20)">20</button>
            <button type="button" class="btn btn-default" ng-class="{'active': table.isPageSize(30)}" ng-click="table.pageSize(30)">30</button>
            <button type="button" class="btn btn-default" ng-class="{'active': table.isPageSize(50)}" ng-click="table.pageSize(50)">50</button>
            <button type="button" class="btn btn-default" ng-class="{'active': table.isPageSize(100)}" ng-click="table.pageSize(100)">100</button>
          </div>
        </div>
            
      </div>

    </div>

  </div>
 
</div>